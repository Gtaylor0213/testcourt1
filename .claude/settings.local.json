{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(timeout:*)",
      "Bash(git reset:*)",
      "Bash(git rev-parse:*)",
      "Bash(git rm:*)",
      "Bash(mkdir:*)",
      "Bash(ping:*)",
      "Bash(nul)",
      "Bash(done)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd admin view functionality with development mode switcher\n\nThis commit adds a comprehensive admin interface that allows facility administrators to manage their facilities alongside having access to all player features.\n\nKey Features:\n- ViewSwitcher component: Toggle between player and admin views (dev mode only)\n- Enhanced UnifiedSidebar: Shows admin-specific navigation when in admin mode\n- 7 new admin page components (placeholders ready for implementation):\n  * Admin Dashboard - Overview with stats and quick actions\n  * Facility Management - Manage facility details and settings\n  * Court Details Management - Configure individual courts\n  * Booking Management - View and manage all bookings\n  * Admin Booking Creation - Create bookings for members\n  * Member Management - Manage member information and requests\n  * Analytics & Reports - Usage statistics and reports\n\nAdditional Updates:\n- Removed Account Balance section from Player Dashboard (membership-based model)\n- Simplified player registration to collect essential profile information only\n- Added facility search and membership request functionality in registration\n- Fixed bulletin board post margins for better spacing\n- Created forgot password and reset password pages with full flow\n- Removed duplicate \"Forgot password?\" link from login page\n\nAdmin users retain full access to player features including court calendar, dashboard, hitting partner finder, and club information while gaining access to facility management tools.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(node scripts/setup-database.js:*)",
      "Bash(node -e:*)",
      "Bash(node scripts/check-database.js:*)",
      "Bash(npm run db:check:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd complete database integration and user registration system\n\nThis commit implements a full-stack database integration with PostgreSQL and a working user registration system.\n\n**Database Infrastructure:**\n- Complete PostgreSQL schema with 18 tables (users, facilities, courts, bookings, hitting partner posts, events, leagues, messages, analytics)\n- Database connection layer with pooling and transaction support\n- Migration scripts for setup and verification\n- TypeScript entity models matching database schema\n- Sample data for 5 facilities with 10 courts\n\n**Backend API Server:**\n- Express.js API server with TypeScript\n- RESTful endpoints for authentication, facilities, and users\n- Password hashing with bcrypt (10 salt rounds)\n- Database service layer for auth and facilities\n- Error handling and logging\n- CORS enabled for frontend communication\n\n**API Endpoints:**\n- POST /api/auth/register - User registration with facility selection\n- POST /api/auth/login - User login with facility memberships\n- POST /api/auth/add-facility - Add user to facility\n- GET /api/facilities - Get all facilities\n- GET /api/facilities/search - Search facilities by query\n- GET /api/facilities/:id - Get facility details\n- GET /api/facilities/:id/courts - Get facility courts\n- GET /api/users/:id - Get user by ID\n- GET /api/users/:id/memberships - Get user with memberships\n- PATCH /api/users/:id - Update user profile\n\n**Frontend Integration:**\n- API client utility for type-safe backend calls\n- Updated AuthContext to use real database (DEV_MODE toggle)\n- Integration with existing UserRegistration component\n- Support for multi-facility membership selection\n\n**Updated Features:**\n- Hitting Partner page: facility-based filtering, removed location info, added post expiration (7-90 days), facility dropdown for multi-facility members\n- User interface now includes memberFacilities array\n- Mock users updated with facility memberships for testing\n\n**Scripts Added:**\n- npm run dev - Runs both backend and frontend concurrently\n- npm run server - Starts backend API server only\n- npm run dev:server - Starts backend with watch mode\n- npm run db:setup - Initialize database with schema\n- npm run db:check - Verify database connection and tables\n\n**Security:**\n- Passwords hashed with bcrypt\n- SQL injection protection via parameterized queries\n- SSL database connection\n- Input validation\n\n**Documentation:**\n- DATABASE_COMPLETE.md - Complete database reference\n- DATABASE_SETUP.md - Database setup guide\n- REGISTRATION_SETUP.md - Registration system guide\n\n**Dependencies Added:**\n- pg, @types/pg - PostgreSQL client\n- bcrypt, @types/bcrypt - Password hashing\n- express, @types/express - API server\n- cors, @types/cors - CORS middleware\n- dotenv - Environment variables\n- tsx - TypeScript execution\n- concurrently - Run multiple commands\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(npm run server:*)",
      "Bash(curl:*)",
      "Bash(ls:*)",
      "Bash(npm run db:migrate:*)",
      "Bash(git commit:*)",
      "Bash(npm run type-check:*)",
      "Bash(npm run:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(cat:*)",
      "Bash(psql:*)",
      "Bash(tsx:*)",
      "Bash(npx tsx:*)",
      "Bash(git push:*)",
      "Bash(npx tsc:*)",
      "Bash(server/index.ts)",
      "Bash(cmd.exe //c \"taskkill /PID 8692 /F\")",
      "Bash(tasklist:*)",
      "Bash(cmd.exe //c \"taskkill /PID 21940 /F\")",
      "Bash(cmd.exe //c \"taskkill /PID 19000 /F\")",
      "Bash(node scripts/create-admin.js:*)",
      "Bash(node scripts/populate-sample-data.js:*)",
      "Bash(dir:*)",
      "Bash(node scripts/migrate-conversations.js:*)",
      "Bash(find:*)",
      "Bash(node scripts/check-bookings.js:*)"
    ],
    "deny": [],
    "ask": []
  }
}
